<mark style="background: #FFF3A3A6;">ToDo:</mark>
- [ ] Після входу вивести всі віртуальні машини, що додав користувач
- [ ] Реалізувати команду додавання віртуальних машин

## Після входу вивести всі віртуальні машини, що додав користувач
#### Додавання методу
Для цього нам потрібно створити метод, який буде витягувати із бази даних всі віртуальні машини, що належать користувачу, що увійшов у систему. Для цього в інтерфейс IVirtualMachineService було додано наступний метод:
```CSharp
Task<List<VirtualMachine>> GetUserVirtualMachines(int userId);
```

Його реалізація виглядає наступним чином:
```CSharp
public Task<List<VirtualMachine>> GetUserVirtualMachines(int userId)
{
    return _context.VirtualMachines.Where(_ => _.UserId ==  userId).ToListAsync();
}
```

Ендпоїнт:
```CSharp
[HttpGet("{userId}/all")]
[ProducesResponseType(typeof(List<VirtualMachine>), StatusCodes.Status200OK)]
[ProducesResponseType(StatusCodes.Status500InternalServerError)]
public async Task<ActionResult<VirtualMachine>> GetVirtualMachineByUserIdAndVMNameAsync(int userId)
{
    return Ok(await _service.GetUserVirtualMachines(userId));
}
```
#### Оновлення команди входу
Для хешування ідентифікатора користувача, під яким увійшли в систему в інтерфейс IAuthService було додано метод, який за даними, що були введені при успішному вході виконує пошук користувача, під яким увійшли:
```CSharp
Task<User?> GetUserByTelegramIdAndUserNameAsync(long telegramId, string name);
```

Його реалізація:
```CSharp
public  Task<User?> GetUserByTelegramIdAndUserNameAsync(long telegramId, string userName)
{
    return _context.Users.Where(_ => _.TelegramId == telegramId && _.UserName == userName).FirstOrDefaultAsync();
}
```

Ендпоїнт:
```CSharp
[HttpGet("{telegramId}/{userName}")]
[ProducesResponseType(typeof(User), StatusCodes.Status200OK)]
[ProducesResponseType(StatusCodes.Status204NoContent)]
[ProducesResponseType(StatusCodes.Status500InternalServerError)]
public async Task<ActionResult<User?>> GetUserByTelegramIdAndUserNameAsync(long telegramId, string userName)
{
    return Ok(await _service.GetUserByTelegramIdAndUserNameAsync(telegramId, userName));
}
```